extends ../layouts/common 
block headContent
block navbar

  h1 User List
  div current page: #{page}
  div max page: #{maxPage}

  table.table
    tr
      th Name
      th ID
      th Action
    each user in userList
      tr
        td= user.name
        td= user.id
        td= user.password
        td= user.email
        td= user.isAdmin
        td
          a(href="/users/" + user.id) view 
        td
          a(href="/users/index/" + user.id+"/delete") delete
  .nav(aria-label="Page navigation example")
      - var previous = page - 1
      - var next = page + 1
      - var window = 3
      - var maxleft = (page - Math.floor(window / 2))
      - var maxRight = (page + Math.floor(window / 2))
      
      if(maxleft < 1) 
        - maxleft = 1
        - maxRight = window
      
      if(maxRight > maxPage)
        - maxleft = (maxPage - (window - 1))
        - maxRight = maxPage
        div Bruh: #{maxRight}
        div Blef: left = #{maxleft} right? - return 4 <-
        
        if(maxleft < 1) // 4 < 1 => true ?? :D ?? i so confuse:)) 4>1 => true? 1<4 => true so 4<1 => false
        - maxleft = 1
        div Blef2: #{maxleft}
        div cuz left equal 1, idk why, maybe becuz of thiz i guess, "4" < 1 am i right? // i cant check type of maxleft just though it was string
        // maybe? well I thought cant compare string with number? well.. page is number.. max= page-1 so I think it is a number
        
      
      ul.pagination.justify-content-center
        - var currPage = maxleft
        
        div maxRight: #{maxRight}
        div maxLeft: #{maxleft}
        div currPage: #{currPage}
        if(page > 1)
          li.page-item
            a.page-link(href='/users/index?page='+ previous) <<
        while currPage <= maxRight
          li.page-item
            a.page-link(href='/users/index?page='+ currPage)= currPage 
            div #{currPage}
          - currPage = currPage + 1 
        if(next <= maxPage)
          li.page-item
            a.page-link(href='/users/index?page='+ next) >>


  a(href="/" class="btn btn-primary" role="button") Menu List
  // em xóa tạm nhé? em thử làm nhé
  // lên xuống qua về có vẻ ổn rồi đó bạn 
  // bây giờ bạn có thể dựa vào currPage với maxPage để while ra // dạ..không sao ạ... anh cứ thoải mái ạ..sr anh ạ >< 
  // mình xin đi mua đồ 1 lát nha ^^ ... vọc vạch đi thí về mình xem cho ok ạ
  // bạn còn đó không 
  // nãy giờ mình đi thăm ngàn
  // làm lâu quá :))
  // cơ bàn là được rồi đó 
  // có thể test 
  // chỉ có cái là tới cái cuối không biết sao không tín hra được 
  // dạ không sao ạ.. dạ em thấy rồi ạ.. tới cái cuối là nó lại hiện hết